<form role="form" novalidate [formGroup]="SendNotificationForm" #form="ngForm" (ngSubmit)="sendNotifications()">
<div class="row">
    <div class="col-md-6">
      
        <h4 style="padding: 12px;color: gray;margin-bottom: 0;">Enter a Message</h4>
       
        <textarea style="padding: 12px;width:100%;height:200px"  [(ngModel)]="sendNotificationObj.message" [formControl]="SendNotificationForm.controls.Message" placeholder="Enter a message"></textarea>
        <mat-error>
          <control-messages [isSubmitted]="isSubmitted" [control]="SendNotificationForm.controls.Message"></control-messages>
          <!-- <span *ngIf="lengthError">message must be within 40 characters long</span> -->
        </mat-error>
     
    </div>
    <div class="col-md-6">
        <h4 style="padding: 12px;color: gray;margin-bottom: 0;">Search user by username</h4>
        <mat-form-field class="material-input-full">
        <mat-select  [formControl]="SendNotificationForm.controls.Users" [(ngModel)]="selectedUserNotificationId" placeholder="Users" multiple>
            <mat-option>
              <ngx-mat-select-search [formControl]="SendNotificationForm.controls.inputUsers"
                   [placeholderLabel]="'Search User'" 
                           [noEntriesFoundLabel]="'No matching users found'"
              ><i ngxMatSelectSearchClear class="fa fa-times" aria-hidden="true"></i></ngx-mat-select-search>
            </mat-option>
            <mat-checkbox  #allSelected (click)="toggleAllSelection()" [value]="0" style="margin-left: 15px;">Select All</mat-checkbox>
            <mat-option *ngFor="let user of filterusers" [value]="user._id" (click)="tosslePerOne()">
              {{user.username}}
            </mat-option>
            </mat-select>
            <!-- <div class='admin-request button-class'>
              <mat-form-field class='filterBox' floatPlaceholder="never" style=" width: 220px !important;margin-left:10px">
                <i style="margin-right: 5px;" class="fa fa-search" matPrefix aria-hidden="true"></i>
                <i style="cursor: pointer;" *ngIf="searchText" (click)="clearSearchInput()" matSuffix class="fa fa-times" aria-hidden="true"></i> 
            
                <input [(ngModel)]="searchText" matInput (keyup)="applyFilter($event.target.value)"
                  placeholder="Enter Code/Customer">
              </mat-form-field>
            </div> -->
            <mat-error>
              <control-messages [isSubmitted]="isSubmitted" [control]="SendNotificationForm.controls.Users"></control-messages>
            </mat-error>
        </mat-form-field>
        <div class="mb-6">
            <button mat-raised-button color="primary" type="submit">
              <i class="fas fa-paper-plane"></i> Send</button>
            <button mat-raised-button color="warn" type="button" (click)="Reset()"><i class="fa fa-refresh"></i>Reset</button>
          </div>
    </div>
</div>

